# -*- coding: utf-8 -*-
class KanaInt(int):
	# かな文字を整数値に変換して保持するクラス。
	# 配列操作を簡単にする。
	# 変換用ハッシュをクラス変数として定義
	d_katakana_int = {
		'ア': 0,
		'イ': 1,
		'ウ': 2,
		'エ': 3,
		'オ': 4,
		'カ': 8,
		'キ': 9,
		'ク': 10,
		'ケ': 11,
		'コ': 12,
		'サ': 16,
		'シ': 17,
		'ス': 18,
		'セ': 19,
		'ソ': 20,
		'タ': 24,
		'チ': 25,
		'ツ': 26,
		'テ': 27,
		'ト': 28,
		'ナ': 32,
		'ニ': 33,
		'ヌ': 34,
		'ネ': 35,
		'ノ': 36,
		'ハ': 40,
		'ヒ': 41,
		'フ': 42,
		'ヘ': 43,
		'ホ': 44,
		'マ': 48,
		'ミ': 49,
		'ム': 50,
		'メ': 51,
		'モ': 52,
		'ヤ': 56,
		'ユ': 58,
		'ヨ': 60,
		'ラ': 64,
		'リ': 65,
		'ル': 66,
		'レ': 67,
		'ロ': 68,
		'ワ': 72,
		'ヰ': 73,
		'ヱ': 75,
		'ヲ': 76,
		'ガ': 80,
		'ギ': 81,
		'グ': 82,
		'ゲ': 83,
		'ゴ': 84,
		'ザ': 88,
		'ジ': 89,
		'ズ': 90,
		'ゼ': 91,
		'ゾ': 92,
		'ダ': 96,
		'ヂ': 97,
		'ヅ': 98,
		'デ': 99,
		'ド': 100,
		'バ': 104,
		'ビ': 105,
		'ブ': 106,
		'ベ': 107,
		'ボ': 108,
		'パ': 112,
		'ピ': 113,
		'プ': 114,
		'ペ': 115,
		'ポ': 116,
		'ァ': 120,
		'ィ': 121,
		'ゥ': 122,
		'ェ': 123,
		'ォ': 124,
		'ャ': 128,
		'ュ': 130,
		'ョ': 132,
		'ヴ': 136,
		'ヮ': 137,
		'ヵ': 138,
		'ヶ': 139,
		'ッ': 140,
		'ー': 141,
		'ン': 142,
	}

	d_hiragana_int = {
		'あ': 0,
		'い': 1,
		'う': 2,
		'え': 3,
		'お': 4,
		'か': 8,
		'き': 9,
		'く': 10,
		'け': 11,
		'こ': 12,
		'さ': 16,
		'し': 17,
		'す': 18,
		'せ': 19,
		'そ': 20,
		'た': 24,
		'ち': 25,
		'つ': 26,
		'て': 27,
		'と': 28,
		'な': 32,
		'に': 33,
		'ぬ': 34,
		'ね': 35,
		'の': 36,
		'は': 40,
		'ひ': 41,
		'ふ': 42,
		'へ': 43,
		'ほ': 44,
		'ま': 48,
		'み': 49,
		'む': 50,
		'め': 51,
		'も': 52,
		'や': 56,
		'ゆ': 58,
		'よ': 60,
		'ら': 64,
		'り': 65,
		'る': 66,
		'れ': 67,
		'ろ': 68,
		'わ': 72,
		'ゐ': 73,
		'ゑ': 75,
		'を': 76,
		'が': 80,
		'ぎ': 81,
		'ぐ': 82,
		'げ': 83,
		'ご': 84,
		'ざ': 88,
		'じ': 89,
		'ず': 90,
		'ぜ': 91,
		'ぞ': 92,
		'だ': 96,
		'ぢ': 97,
		'づ': 98,
		'で': 99,
		'ど': 100,
		'ば': 104,
		'び': 105,
		'ぶ': 106,
		'べ': 107,
		'ぼ': 108,
		'ぱ': 112,
		'ぴ': 113,
		'ぷ': 114,
		'ぺ': 115,
		'ぽ': 116,
		'ぁ': 120,
		'ぃ': 121,
		'ぅ': 122,
		'ぇ': 123,
		'ぉ': 124,
		'ゃ': 128,
		'ゅ': 130,
		'ょ': 132,
		'ゔ': 136,
		'ゎ': 137,
		'ゕ': 138,
		'ゖ': 139,
		'っ': 140,
		'ー': 141,
		'ん': 142,
	}

	d_int_katakana = {
		0: 'ア',
		1: 'イ',
		2: 'ウ',
		3: 'エ',
		4: 'オ',
		8: 'カ',
		9: 'キ',
		10: 'ク',
		11: 'ケ',
		12: 'コ',
		16: 'サ',
		17: 'シ',
		18: 'ス',
		19: 'セ',
		20: 'ソ',
		24: 'タ',
		25: 'チ',
		26: 'ツ',
		27: 'テ',
		28: 'ト',
		32: 'ナ',
		33: 'ニ',
		34: 'ヌ',
		35: 'ネ',
		36: 'ノ',
		40: 'ハ',
		41: 'ヒ',
		42: 'フ',
		43: 'ヘ',
		44: 'ホ',
		48: 'マ',
		49: 'ミ',
		50: 'ム',
		51: 'メ',
		52: 'モ',
		56: 'ヤ',
		58: 'ユ',
		60: 'ヨ',
		64: 'ラ',
		65: 'リ',
		66: 'ル',
		67: 'レ',
		68: 'ロ',
		72: 'ワ',
		73: 'ヰ',
		75: 'ヱ',
		76: 'ヲ',
		80: 'ガ',
		81: 'ギ',
		82: 'グ',
		83: 'ゲ',
		84: 'ゴ',
		88: 'ザ',
		89: 'ジ',
		90: 'ズ',
		91: 'ゼ',
		92: 'ゾ',
		96: 'ダ',
		97: 'ヂ',
		98: 'ヅ',
		99: 'デ',
		100: 'ド',
		104: 'バ',
		105: 'ビ',
		106: 'ブ',
		107: 'ベ',
		108: 'ボ',
		112: 'パ',
		113: 'ピ',
		114: 'プ',
		115: 'ペ',
		116: 'ポ',
		120: 'ァ',
		121: 'ィ',
		122: 'ゥ',
		123: 'ェ',
		124: 'ォ',
		128: 'ャ',
		130: 'ュ',
		132: 'ョ',
		136: 'ヴ',
		137: 'ヮ',
		138: 'ヵ',
		139: 'ヶ',
		140: 'ッ',
		141: 'ー',
		142: 'ン',
	}

	d_int_hiragana = {
		0: 'あ',
		1: 'い',
		2: 'う',
		3: 'え',
		4: 'お',
		8: 'か',
		9: 'き',
		10: 'く',
		11: 'け',
		12: 'こ',
		16: 'さ',
		17: 'し',
		18: 'す',
		19: 'せ',
		20: 'そ',
		24: 'た',
		25: 'ち',
		26: 'つ',
		27: 'て',
		28: 'と',
		32: 'な',
		33: 'に',
		34: 'ぬ',
		35: 'ね',
		36: 'の',
		40: 'は',
		41: 'ひ',
		42: 'ふ',
		43: 'へ',
		44: 'ほ',
		48: 'ま',
		49: 'み',
		50: 'む',
		51: 'め',
		52: 'も',
		56: 'や',
		58: 'ゆ',
		60: 'よ',
		64: 'ら',
		65: 'り',
		66: 'る',
		67: 'れ',
		68: 'ろ',
		72: 'わ',
		73: 'ゐ',
		75: 'ゑ',
		76: 'を',
		80: 'が',
		81: 'ぎ',
		82: 'ぐ',
		83: 'げ',
		84: 'ご',
		88: 'ざ',
		89: 'じ',
		90: 'ず',
		91: 'ぜ',
		92: 'ぞ',
		96: 'だ',
		97: 'ぢ',
		98: 'づ',
		99: 'で',
		100: 'ど',
		104: 'ば',
		105: 'び',
		106: 'ぶ',
		107: 'べ',
		108: 'ぼ',
		112: 'ぱ',
		113: 'ぴ',
		114: 'ぷ',
		115: 'ぺ',
		116: 'ぽ',
		120: 'ぁ',
		121: 'ぃ',
		122: 'ぅ',
		123: 'ぇ',
		124: 'ぉ',
		128: 'ゃ',
		130: 'ゅ',
		132: 'ょ',
		136: 'ゔ',
		137: 'ゎ',
		138: 'ゕ',
		139: 'ゖ',
		140: 'っ',
		141: 'ー',
		142: 'ん',
	}

	# 引数を伴うインスタンス生成を定義(__init__だと上手く行かない)
	# 数字を入れたときはその数字、文字を入れたときはその文字に対応する数字
	def __new__(self, arg):
		code = 0
		if isinstance(arg, int):
			if arg in KanaInt.d_int_hiragana:
				code = arg
			else:
				raise ValueError()
		elif isinstance(arg, str):
			if arg in KanaInt.d_hiragana_int:
				code = KanaInt.d_hiragana_int[arg]
			elif arg in KanaInt.d_katakana_int:
				code = KanaInt.d_katakana_int[arg]
			else:
				raise ValueError('A string of unknown letter or a string with plural letters is given.')
		else:
			raise TypeError('Argument must be an int or str.')
		return int.__new__(self, code)

	def to_str(self):
		if self in KanaInt.d_int_hiragana:
			return KanaInt.d_int_hiragana[self]

	def gyou(self):
		idx = self >> 3
		if idx >= 17:
			return None
		return idx
	# def gyou_str():
	# 	pass
	def dan(self):
		idx = self & 0x7
		if idx >= 5:
			return None
		return idx
	# def dan_str():
	# 	pass
	def dan_equal_to(self, ki):
		dan1 = self.dan()
		dan2 = ki.dan()
		if dan1 is None or dan2 is None:
			return False
		return (dan1 == dan2)
